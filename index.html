<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Käsa Sozanämu</title>
    <style>
        @font-face {
            font-family: 'Kiineza';
            src: url('fonts/Kiineza_Laaitu.woff2') format('woff2');
        }

        :root {
            --primary: #00b195;
            --secondary: #fc2537;
            --background: #07080b;
        }

        body {
            display: flex;
            min-height: 100vh;
            margin: 0;
            background: var(--background);
            font-family: 'Kiineza', monospace;
            color: white;
            line-height: 0.8;
            transform-origin: top left;
        }

        .left-panel {
            flex: 6;
            padding: 3rem;
            border-right: 1px solid #2b323b;
            position: relative;
        }

        .right-panel {
            flex: 4;
            padding: 3rem;
            position: relative;
            display: flex;
            min-width: 200px;
    		flex-direction: column;
        }

        .display-box {
            width: 100%;
            padding: 2rem;
            margin-bottom: 3rem;
            font-size: 4.5rem;
            top: -0.6rem;
            background: #131318;
            border: none;
            color: var(--primary);
            font-family: 'Kiineza';
            line-height: 0.8;
            outline: none; /* 移除点击描边 */
        }

        .keyboard {
            display: flex;
            gap: 0.1rem;
        }

        .key-column {
            display: flex;
            flex-direction: column;
            gap: 0.1rem;
        }

        .key {
            width: 5.4rem;
            height: 5.4rem;
            padding: 0;
            background: #131318;
            border-radius: 8px;
            cursor: pointer;
            font-size: 3.8rem;
            transition: all 0.2s;
            display: flex;
            align-items: center;
            justify-content: center;
            line-height: 0.8;
            position: relative;
            overflow: visible;
        }

        .key::after {
            content: attr(data-char);
            position: absolute;
            top: -0.6rem;
            left: 0;
            width: 100%;
            height: 100%;
            display: flex;
            align-items: center;
            justify-content: center;
            pointer-events: none;
        }

        .vowel-key {
            font-size: 4.3rem !important;
            letter-spacing: -0.1rem;
        }
        
        .vowel-key::after {
            font-size: 4.3rem;
            top: -0.7rem;
        }

        .key:hover {
            background: var(--primary);
            color: var(--background);
        }

        .result-box {
            font-size: 5rem;
            font-family: 'Kiineza';
            line-height: 0.8;
            min-height: 80px;
        }

        .translation {
            color: var(--secondary);
            margin-top: 2rem;
            font-size: 2.5rem;
            line-height: 1;
        }

        /* 版本号样式 */
        .version {
            margin-top: auto;            
            color: #12131a;
            font-size: 2rem;
        }

        /* 响应式调整 */
        @media (max-width: 1200px) {
            body {
                transform: scale(0.9);
                width: 111%;
            }
        }

        @media (max-width: 1000px) {
            body {
                transform: scale(0.8);
                width: 125%;
            }
        }

        /* 回车键字体优化 */
        [data-char="↵"]::after {
            font-family: 'Segoe UI', '等线', 'DengXian', sans-serif;
            top: -0.2rem;
        }
    </style>
</head>
<body>
    <div class="left-panel">
        <input type="text" class="display-box" id="display" readonly>
        <div class="keyboard" id="keyboard"></div>
    </div>
    <div class="right-panel">
        <div id="result" class="result-box"></div>
        <div class="version">lokam 1.01</div>
    </div>

<script>
const encrypted = 'ewogICJ4YSI6ICJ4eXNIbXBTeW4sIGJJIGt5bmRpU3lueiBmTywgeGlmIHhpdCBoR3B5bnogVmVuIiwKICAieEEiOiAiYmlsb05pTiB0VSIsCiAgInhBbiI6ICJ0VSBiaWxvTiB0VSIsCiAgInhhbSI6ICJGaU4sIHhKdHltIiwKICAiYkFiIjogImZBVnkiLAogICJiQXhpYiI6ICJiaXpueXMsIG1ZY3ludCwga3ltWVN5bCwgdFUgdHJLZCIsCiAgImJBeGliYW0iOiAia3ltb2RpdGksIHByb2RIa3QiLAogICJiQXhpdCI6ICJ0VSBmSnQiLAogICJiYXoiOiAicGxLcywgbFhrS1N5biwgcHl6aVN5biwgdGVyaXR5cmkiLAogICJiRSI6ICJzeXBySnppTmxpLCB4R2tzaWRlbnR5bGksIHhJdnluLCB4WG5saSwgc3RpbCwgW3hpbnR5cWVrU3luXSIsCiAgImJFbHVkIjogImJZZCIsCiAgImJFbHVkYW1PemV6IjogInhlZyIsCiAgImJFbHVkYXNJeGFuIjogImZlVnkiLAogICJiRWx1ZGF0ZXQiOiAid2lOIiwKICAiYkVzdXQiOiAiZ3VkLCBwcm9weSwga3lyZWt0LCBsSGssIHRVIHhIcGdyS2QiLAogICJiRXN1dGFuIjogInhpbnNKdCwgdFUgeEhuZHlzdEduZCIsCiAgImJ1YmF6IjogInhJc3QiLAogICJidXoiOiAickp0IiwKICAiZCI6ICJ0VSB3S3QiLAogICJkQSI6ICJzS20iLAogICJkQWtpbU90IjogInhlbXB5RmkiLAogICJkYWJheiI6ICJmZWxYLCBickhWeSIsCiAgImRhbWFtIjogIm5XIiwKICAiZE9idXMiOiAieEduaW15bCIsCiAgImRPYnVzYWhVbGV6IjogImhPbiIsCiAgImRPYnVzYWt1dGFtIjogIm1JdCBbeGVkeWJ5bF0iLAogICJkT2ciOiAiaFciLAogICJkT2wiOiAiaFUiLAogICJkT20iOiAid290IiwKICAiZE9tYW0iOiAid2VuIiwKICAiZE9tVW4iOiAid0oiLAogICJkT3h1ZyI6ICJ0VWwsIGpVdGVuc3lsIiwKICAiZE96IjogIndQIiwKICAiZHViYXoiOiAibk9GIiwKICAiZHVnIjogImhlZCIsCiAgImR1Z2FsYW0iOiAibmVrIiwKICAiZHVodWtVcyI6ICJ4SHB5IGtsWFZ6LCBxR2tpdCwga1h0IiwKICAiZHVoVWwiOiAidFUgZmxYdCIsCiAgImR1aFVsYW4iOiAidFUgc3dpbSIsCiAgImR1a0VoVWwiOiAia2xXZCIsCiAgImR1a0V2IjogInNrSiIsCiAgImR1a0V2YWhVbCI6ICJyS24iLAogICJkdWtFdmFuIjogInRVIGZsSiIsCiAgImR1a0V2aWwiOiAiYmxVIiwKICAiZHVrRXZva0loVWwiOiAic25YIiwKICAiZHVsYWsiOiAidll0aWt5bCIsCiAgImR1bGFrdWxVbSI6ICJ4ZWxpdkt0eSIsCiAgImR1c090IjogImdvZCIsCiAgImR1c090YW0iOiAiZlByaSB0S2wsIG1pRm9seXFpIiwKICAiZHV0IjogInRVIHJKeiIsCiAgImR1dE9rIjogInRPbCIsCiAgImR1dmlrIjogIlNPdCBbdll0aWt5bF0iLAogICJkdXZPeiI6ICJ0VSBzdEduZCIsCiAgImR1eiI6ICJ4SHB5LCB4SHAiLAogICJ4ZSI6ICJiSHQsIHhla3NlcHQsIHhIVnkgVnluIiwKICAieGVkIjogInNpbWlseSB0VeKApiIsCiAgInhFIjogInh5bUt6aU4sIHhIbmJpbEl2eWJ5bCwgeEdic3lsVXRsaSwgW3hpbnR5cWVrU3luXSIsCiAgInhlbSI6ICJ0VeKApiIsCiAgInhlbiI6ICJmcm9t4oCmIiwKICAieGV0IjogInhHdOKApiIsCiAgInhlekEiOiAieGlueSwgd2ljIGJpbG9OaU4gdFUgVkd0IHhpeiIsCiAgInhlekkiOiAieFd0c0pkeSwgc3lyV25kaU4sIHdpYyBreW50S25pTiBWR3QgeGl6IiwKICAiZnVzVW4iOiAieG9meW4sIGpVWlUveWwsIG5PbXlsIiwKICAiZyI6ICJkalV0aSwgbnlzZXNpdGksIG1Ic3QsIFN1ZCIsCiAgImdBZCI6ICJ0d2VsdiB0VSBWeSBwVy95IHhvdiBmSnYiLAogICJnQWhVbCI6ICJzSSwgeFhTeW4iLAogICJnQWhVbGFrYXZBbCI6ICJ0SmR5bCIsCiAgImdBa0FzIjogInRVIGJJIGJPbiIsCiAgImdBa09tIjogImRlRiwgeHluSi95bEtTeW4sIHRVIGRKLCB0VSBraWwiLAogICJnQWwiOiAibWVuaSIsCiAgImdBbEF4aXQiOiAieEF0aWt5bCwgdGVrc3QiLAogICJnQWxva2FtIjogImRpZmlreWx0LCBrb21wbGlrS3RpZCIsCiAgImdBbSI6ICJGaU5rZkhsSSwga1BmeWxpIiwKICAiZ0FtYW1BbmVtIjogImZ5cmV2eSwgeGl0WW55bCIsCiAgImdBdmF0QWwiOiAiYnJPZGtBc3QsIGxKdnNySXQiLAogICJnRWQiOiAidHdlbHYgdFUgVnkgcFcveSB4b3YgRnJJIiwKICAiZ0lkIjogInR3ZWx2IHRVIFZ5IHBXL3kgeG92IGZPIiwKICAiZ09kIjogInR3ZWx2IiwKICAiZ1VkIjogInR3ZWx2IHRVIFZ5IHBXL3kgeG92IHRVIiwKICAiaCI6ICJ0VSB3b250LCB0VSBoWHAsIHRVIHdpUyIsCiAgImhhYmF6IjogIndlc3QiLAogICJoYWJ1ZyI6ICJTWGxkeSIsCiAgImhhYnVrIjogImhvcml6b250eWwiLAogICJoYWtBcyI6ICJ4ZXZpZHlucywgc2ltYnlsLCBsWGdYLCBtQWssIHNKbiwgc2ltcHR5bSIsCiAgImhheiI6ICJsZWZ0IiwKICAiaGF6VWsiOiAiU0ttLCBkaXNncktzIiwKICAiaGVsIjogInRVIiwKICAiaGVsQWIiOiAidFUgY1V6IiwKICAiaGVsT3hpbiI6ICJzZWtzIiwKICAiaGV6IjogIlNLcCwgc3RKbCwgeGltcHJlU3luLCBwR3R5biIsCiAgImhJZGVuIjogInNJa3JIdCwgdFUgaEpkLCB0VSBrSHZ5IHhIcCIsCiAgImhpa0FsIjogImxKdCwgYnJKdCwgdFUgU0puIiwKICAiaGlrQWxhbSI6ICJsR21wLCBsSnQsIGxBbnR5biIsCiAgImhpbCI6ICJrSGxZIiwKICAiaGlsYWRPeHVnIjogInBLbnRpTiB0VWwsIHBLbnRpTiBickhTLCBwaWdteW50IiwKICAiaGlsYWtha0luIjogImZsVy9ZIiwKICAiaGltRXoiOiAieGltaXEsIHBpa2N5LCBmWHRYLCB0VSBwS250IiwKICAiaGluQXp1bSI6ICJ4aWxla3RyaXNpdGksIHhlbGlrdHJvbmlrLCBGSG5keSIsCiAgImhpbkF6dW1haGlrQWxhbSI6ICJ4aWxla3RyaWsgbEp0IiwKICAiaGluQXp1bWFsQXhpdCI6ICJwcmludCIsCiAgImhpdkVudXQiOiAieEdrdGl2aXRpLCBmZXN0aXZ5bCwgc2VyaW15bmksIHhpdmVudCwgcGxHbiIsCiAgImhvZ09sIjogImRZdGkiLAogICJob2dPbGFtIjogInRyR1MiLAogICJob2wiOiAiaEF0IiwKICAiaE94dWgiOiAid0ssIG1lRnlkLCBtSW56LCBtSGx0aXBsaWtLU3luIFttR0ZdIiwKICAiaHVrVXMiOiAia2xYVnoiLAogICJoVWJFc3V0IjogInRVIHdvUyIsCiAgImhVZ0FsIjogInNvZnQiLAogICJoVWdBbGFrVXhhZ2F0IjogIndZbSIsCiAgImhVa0luIjogInNMbCwgcFdkeSwgcEtzdCIsCiAgImhVa3V0IjogInRVIGRyaU5rIiwKICAiaFVsIjogIndPdHkiLAogICJoVWxleiI6ICJ4QWssIGtZdiwga3Jlc3ludCIsCiAgImhVbGV6YXQiOiAidFUgdFluIiwKICAiaFVsc2V6IjogInRVIGRpZyIsCiAgImhVc2lsIjogImhBZCIsCiAgImhVdmFrRWwiOiAidFUgZGlzb2x2IiwKICAieGkiOiAieE8sIHhKVnkiLAogICJ4SSI6ICJ3aVYgeGluc0pkLCBoWGxkaU4sIGt5bnRLbmlOIiwKICAieEluIjogInRVIGhHdiwgdFUga3ludEtuIiwKICAieGlrT2wiOiAiYkkiLAogICJrIjogInBvc3liaWxpdGksIHByb2J5YmlsaXRpLCBtS2JJLCBtSywga0duIiwKICAia0EiOiAiW3BBdGlreWwgZk8gcmlnclVwaU4gbUhsdGlweWwgbW9kaWZKL3l6XSIsCiAgImtBayI6ICJWSyIsCiAgImtBcyI6ICJ4ZWd6aXN0eW5zLCBsSmYsIGxpdmlOLCB0VSB4ZWd6aXN0LCB0VSBTWCB4SHAsIFZ5IGtIbnRyaSB4R25kIFZ5IHBsR25pdCBuS20gW2tBc0hdIiwKICAia0FzYW1ha2VuIjogInNwcmlOIiwKICAia0FzZXoiOiAic3RBX1NLcHQsIFNBcCwgRk9uaSwgcHJpa2xpIiwKICAia0FzZXphdCI6ICJ0VSBzdEdiIiwKICAia0F2aWxhayI6ICJ4eSBncktTeXMgakhOIGtpTiB4b3YgVnkga0hudHJpIGJHayB4aW4gVnkgaGlzdHlyaSwgd1lTaXB0IHhHeiB4eSBnb2QgYkogbEt0eSBxZW55cktTeW56IiwKICAia2FiQW4iOiAia3ludEtueSwgYm9rcywgYkdnLCBiSGtpdCwgYm90eWwiLAogICJrYWsiOiAiaEkiLAogICJrYWtJbiI6ICJwbEdudCIsCiAgImtha0luYW5Pa2FtIjogInRySSBickdjIiwKICAia2FrSW5hdG90IjogInJVdCIsCiAgImtha0luYXpJIjogInRySSBiQWsiLAogICJrYWtJbmlsIjogImdySW4iLAogICJrYWtJbm9rdXRhbSI6ICJ2ZXFpdHlieWwiLAogICJrYWxBZCI6ICJib2RpIiwKICAia2FsQWRhaFVsIjogImJsSGQiLAogICJrYWxBZGFrSW4iOiAiYlhuIiwKICAia2FsQWRhc0l4YW4iOiAiaFAgW2hlZF0iLAogICJrYWxBZGF6QSI6ICJtSXQiLAogICJrYWxBZGF6YW0iOiAiYkdrIiwKICAia2FsQWRhemFuIjogImJlbGkiLAogICJrYWxBZGF6SSI6ICJza2luIiwKICAia2FsSXZ1cyI6ICJsSWYiLAogICJrYXRBbiI6ICJuSmYsIHRVIGNvcCwgdFUgc2xHUyIsCiAgImthdkFsIjogInRVIGNLbnEsIHRVIGJpa0htLCBiSSB4SWt3eWwgdFUgW21HRl0iLAogICJrYXpJdCI6ICJmclV0IiwKICAia2F6SXRhbWFrZW4iOiAieE90SG0iLAogICJrRSI6ICJuWCIsCiAgImtFaFVsIjogImZvZyIsCiAgImtFa0luIjogInNtWGsiLAogICJrRWt1bFVtIjogInBsS24iLAogICJrRWt1dCI6ICJ0VSBicklWIiwKICAia0V2IjogIndpbmQsIHhQLCB2R2tqVW0iLAogICJrRXZleiI6ICJ0ckovR05neWwiLAogICJrRXZpbCI6ICJ0ckduc3BHcnludCIsCiAgImtlaGFidWsiOiAidGlsdGlkIFtub3QgaG9yaXpvbnR5bF0iLAogICJrZWhpa0FsYWhleiI6ICJTR2RYIiwKICAia2VoaWtBbGlsIjogImJsR2siLAogICJrZWhVa3V0IjogInRVIHZvbWl0IiwKICAia2VoVWxleiI6ICJzdHJLdCIsCiAgImtla0FzZXoiOiAic21VViIsCiAgImtla0VrdXQiOiAidFUgYmxYIiwKICAia2VrT21leiI6ICJiSGxxLCBwcnl0clVaeW4iLAogICJrZWt1dCI6ICJ0VSBzcGl0IiwKICAia2VsZXZpbSI6ICJoQWYiLAogICJrZW0iOiAibkhGaU4iLAogICJrZW4iOiAiZk8iLAogICJrZW5ldmltIjogImt3T3R5IiwKICAia2VzIjogImZKdiIsCiAgImtlc29oVWwiOiAiZHJKIiwKICAia2V2IjogIkZySSIsCiAgImtldmFrRWwiOiAidFUga0FtYkpuIiwKICAia2V6IjogIm5Yd1AiLAogICJrSSI6ICJqZXMiLAogICJrSWdBbCI6ICJoZXZpIiwKICAia0loVWwiOiAieEpzIiwKICAia0lrdWxVbSI6ICJrQSwgYkhzLCB0cktuIiwKICAia0luIjogInN0WG4sIHNvbGlkLCB0VSBzeWxpZGlmSiIsCiAgImtJbmV6IjogImt3b2RyaWxHdHlyeWwsIHNrd1AsIHJvbWJ5cyIsCiAgImtJbmlsIjogImplbFgiLAogICJrSXNha0FuIjogIlNlbCIsCiAgImtJc2lsIjogImxKdCIsCiAgImtJeHV0IjogInhBdCwgeElzRmV0aWssIHhBdGlzdGlrLCBkZWtyeXRpdiwgYmpVdGlmeWwsIHByaXRpLCBralV0IiwKICAia0l4dXRhdCI6ICJkQW5zIiwKICAia0l4dXRhdk94aXMiOiAidFUgc2lOIiwKICAia2lrIjogIlEsIHRVIGxpc3luIiwKICAia2ltT3QiOiAiZklsaU4sIHhpbVhTeW4sIHRVIGZJbCIsCiAgImtpc09rIjogInByaW5zaXB5bCwgclVsLCBzdHJIa2N5LCBzaXN0eW0sIGxPIiwKICAia2lzT2thdk94aXMiOiAicmlWeW0iLAogICJrb2wiOiAieEt0IiwKICAia29tVWciOiAic1FyaS95bHoiLAogICJrb24iOiAidGVuIiwKICAia09rSW4iOiAidFUgZnJJeiIsCiAgImtPbGFiIjogInRVIGtYL29weXJLdCwgdFUgbUdjLCB0VSBrQW1iSm4sIHRVIG1pa3MiLAogICJrT20iOiAic2lrcywgdFUgdkduaVMsIHRVIGRpc3lwUSIsCiAgImtPbWV6IjogImhYbCwgaG9sWCwga0t2LCBwaXQsIGRpcHJlU3luIiwKICAia09zT3QiOiAic1hsLCBnWHN0IiwKICAia29zIjogInhpbGV2eW4iLAogICJrb3YiOiAibkpuIiwKICAia292QXMiOiAiaG9yeSwgdFUgZlEiLAogICJrb3oiOiAic2V2eW4iLAogICJrdWxPcyI6ICJmR2JyaWsiLAogICJrdWxVbSI6ICJiWHQsIHZRa3lsLCB4ZWxpdkt0eSwga3ludksveSBiZWx0LCB0VSB0ckduc3BvcnQiLAogICJrdXJFeiI6ICJrckt6aSwgc3RyS25xLCB3UWQiLAogICJrdXNBbCI6ICJyb3R5biIsCiAgImt1dCI6ICJtV1YsIHRVIHhJdCwgdFUgZHJpTmsiLAogICJrdXRhaFVnQWxhbSI6ICJ0SE4iLAogICJrdXRha0luIjogInRVRiwgdFUgYkp0IiwKICAia3V0YW0iOiAiZlVkIiwKICAia3V0YW1hbG9rYW0iOiAia3dpekluLCBrdWtpTiIsCiAgImt1dGFtYWxva2FtYWtBaFVrSW4iOiAic0l6eW5pTiIsCiAgImtVeGFnYXQiOiAiYkhnIiwKICAia1V4aWsiOiAiZkFzdCIsCiAgImtVeGlrYXNVeiI6ICJzcElkIiwKICAia3V6VWwiOiAiYnJYa3luLCB4SG5iR2x5bnN0LCBbc3dQIHdZZHpdIiwKICAibCI6ICJsZXQsIG1LayIsCiAgImxBeGVrIjogImxKayIsCiAgImxBZ0FkIjogInR3ZWx2IHRVIFZ5IHBXL3kgeG92IHRlbiIsCiAgImxBeGl0IjogInJKdGlOLCB4b3JGQWdySGZJLCBrR2xpZ3J5ZmksIHRVIHJKdCIsCiAgImxhYmF6IjogInNXRiIsCiAgImxhaHVrVXMiOiAiYm90eW0ga2xYVnosIHBBbnRzLCB0cldzeXoiLAogICJsYWtJbiI6ICJ4WUYiLAogICJsYWtJbmFoaW1FeiI6ICJtR3AiLAogICJsYW1BeiI6ICJTR2xYIiwKICAibGFuQXoiOiAiZElwIiwKICAibGF0IjogInRVIGZPbCIsCiAgImxhdk96IjogInRVIGxKIGRXbiIsCiAgImxheiI6ICJib3R5bSwgZFduIiwKICAibElkYXoiOiAia2lOLCBsSWR5LCB0VSBiSSB4aW4gY0FycSIsCiAgImxJZGF6YWciOiAickwveWwgcFcveSIsCiAgImxJdnVzIjogInBLcHksIHBLcSIsCiAgImxva2FtIjogIndZaywgcHJBcWVrdCwgdFUgbUtrLCB0VSBrckkvS3QsIHRVIHhpc3RHYmxpUyIsCiAgImxPIjogIlt4aW1wZXJ5dGl2IG1VZCwgeGltcGxKZCB4WWd5dGl2IGtLcyB0VSBiSSBbalVdXSIsCiAgImxPeGFkIjogInJYZCwgcEdGLCB3SywgcEdzaXEsIHRyR2ssIHhPYml0IiwKICAibFUiOiAiW3hpbXBlcnl0aXYgbVVkLCB4aW1wbEpkIHhHYnN5bFV0aXYga0tzIHRVIGJJIFtqVV1dIiwKICAibSI6ICJ0VSBGaU5rLCB0VSBtZW15cmksIHRVIG1pcyIsCiAgIm1BIjogIlZpcyIsCiAgIm1BbCI6ICJ3SSBbd0huXSIsCiAgIm1BbSI6ICJtSFZZIiwKICAibUF6IjogIm5RLCB0VSBzdGlrLCB0VSBwS3N0LCB0VSB4eXRyR2t0IiwKICAibUF6YXNVeiI6ICJkaXN0eW5zIiwKICAibWFnQWwiOiAieFhsZCIsCiAgIm1hZ0FsYW0iOiAieFlsaS95c3QsIHhHdCBmWXN0IiwKICAibWFnQWxhbiI6ICJsS3R5c3QsIHhHdCBsQXN0IiwKICAibWFnQWxhdk94aXMiOiAic3RPcmkiLAogICJtYWhVbCI6ICJtSG5GIiwKICAibWFrQXMiOiAialEiLAogICJtYWtBc2FzVXoiOiAieEtxIiwKICAibWFrYWsiOiAid0kgW3dIbiwgRnJJXSIsCiAgIm1ha2VoaWtBbCI6ICJuSnQiLAogICJtYWtlbiI6ICJzSXp5biIsCiAgIm1ha296IjogIndJayIsCiAgIm1hbCI6ICJ4SiIsCiAgIm1hbEF2IjogImxIdiIsCiAgIm1hbUFuIjogImZqVWN5IiwKICAibWFtYW4iOiAiVmVuLCB4QWZ0eSBWZW4iLAogICJtYW1ldCI6ICJ4R3QgVmlzIG1YbXludCIsCiAgIm1hbU96IjogImRLIiwKICAibWFuYWwiOiAid0kgW3dIbiwgdFVdIiwKICAibWFzSW4iOiAibXlTSW4iLAogICJtYXNpbCI6ICJualUiLAogICJtYXRvbEl4b3MiOiAicGlySS9BZGlrLCB4aXR5cnl0aXYsIGxVcCwgZnJHa3R5bCwgc2VsZl9yZWZyeW5zIiwKICAibWF6IjogImhRIiwKICAibWF6SXYiOiAiYlduZHlyaSwgeGVua1dudHksIHhYdnlsR3BpTiwgdFUgbUl0LCB0VSBrQW50R2t0LCB0VSB4aW50eXNla3QiLAogICJtZXpVbCI6ICJyUCwgbm90IHhvZkhuIiwKICAibUlsdWsiOiAiYnJlc3QiLAogICJtaWsiOiAiU090IiwKICAibWlsIjogInhKLCB0VSBzSSIsCiAgIm1pbGFrT21leiI6ICJ3aW5kWCIsCiAgIm1vbCI6ICJzSG13b24iLAogICJtb20iOiAic0htRmlOIiwKICAibU96IjogImZKL3ksIGZsS20sIHRVIGJZbiIsCiAgIm1PemV6IjogInJXbmQiLAogICJtT3plemF0IjogInJYdEt0IiwKICAibU96ZXphdnVsQXQiOiAiZGlzayIsCiAgIm1PemlsIjogInJlZCIsCiAgIm1Pem9nYW0iOiAieEdTaXoiLAogICJtb3QiOiAiYnJLbiIsCiAgIm1vdGVkYW1hc0luIjogImt5bXBqVXR5IiwKICAibW96IjogInNIbXdQIiwKICAibiI6ICJub2xpcSwgdFUgblgsIGJJIHhLYnlsIHRVIiwKICAibkEiOiAiVkd0IiwKICAibkFsIjogImpVIFtwbE9yeWxdIiwKICAibkFtIjogIm5LbSIsCiAgIm5BbWFtIjogImxLYnlsIiwKICAibkF6IjogImZBIiwKICAibmFsIjogImpVIFtzaU5nanVseV0iLAogICJuYXRlbklsIjogInN0SGRpLCB4ZXFVa0tTeW4sIHRVIHN0SGRpLCB0VSBsWW4sIHRVIGdldCBub2xpcSIsCiAgIm5heiI6ICJWUCIsCiAgIm5JIjogIm5YeiwgdFUgc21lbCIsCiAgIm5JeGFuIjogImtHdCIsCiAgIm5PaFVsIjogInJpdlkiLAogICJuT2siOiAibG9OIiwKICAibk9rYW0iOiAic3RpayIsCiAgInhvIjogInhHbmQiLAogICJ4b2JBYiI6ICJrb21pdCwgbUl0aS95IiwKICAieG9oVWwiOiAibVVuIiwKICAieG9tQW0iOiAic3RBLCB4eXN0cnlub21pa3lsIHhIYnFla3QiLAogICJ4b21BbWFzSXN1dCI6ICJrb25zdGlsS1N5biwgZ0dseWtzaSIsCiAgInhvbU96IjogInNIbiIsCiAgInhvbU96YXNJc3V0IjogInNYbHkgc2lzdHltIiwKICAieG96IjogIndvbiIsCiAgInMiOiAieHl0ZW1wdCwgdFUgdHJKIiwKICAic0F4aW4iOiAid0t2LCBmbEhrY1UvS1N5biwgU0trLCB2SmJyS1N5biwgcEhscywgdHJlbWJ5bCwgc0puIHdLdiIsCiAgInNBeGl2IjogIm1IbmksIHdlbEYsIGJpbG9OaU56LCBwcmVTeXMgbWV0eWwiLAogICJzYWdBcyI6ICJ0VSBzWWMsIHRVIGZKbmQsIHRVIGhIbnQiLAogICJzYWtBbiI6ICJmaVMiLAogICJzYWtha0luIjogImZvcmlzdCIsCiAgInNhbEl2dXMiOiAiYnVrIiwKICAic2F6IjogInhPbCIsCiAgInNJeGFuIjogIndKL3ksIGxKbiwgYk9keSwgaFAsIHRVIGxpTmsiLAogICJzSXhhbmFtIjogInJYcCIsCiAgInNJeGFuYXRva0FnIjogInNuS2siLAogICJzSXN1dCI6ICJnclVwLCBrbEhzdHksIGJIbmMsIHh5a2pVbWp1bEtTeW4sIHRVIGdHVnksIHRVIGtBbGVrdCIsCiAgInNpa0FzIjogIndLaywgeFhweW4sIHN0QXQiLAogICJzaWtPbSI6ICJzbElwLCBrbFhzLCBzdG9wIiwKICAic2lrT21lekEiOiAiZHJJbSIsCiAgInNJa3VuIjogInh5IHdRZCBnSiIsCiAgInNpbCI6ICJmalUiLAogICJzaWxBeGl0IjogImtHcmlrdHksIGxldHksIGdsaWYiLAogICJzaWxhbWFtYW1PeiI6ICJqZXN0eWRLIiwKICAic2lsYW4iOiAibmVrc3QiLAogICJzaWxhbmFtYW1PeiI6ICJ0eW1vclgiLAogICJzaWxva2FtIjogInNpbXB5bCwgeEl6aSIsCiAgInNvYkEiOiAic29sdCIsCiAgInNvaFVsIjogIndldCIsCiAgInNva09tIjogImtYbGQiLAogICJzb2tPbWFtYWtlbiI6ICJ3aW50eSIsCiAgInNvbUF6IjogImdyR3ZpdGksIHh5dHJHa1N5biIsCiAgInNvbU96IjogImhvdCwgaEl0IiwKICAic29tT3phbWFrZW4iOiAic0hteSIsCiAgInNvbkkiOiAic21lbCIsCiAgInNPeGlrIjogInNsWCIsCiAgInNPdCI6ICJoalVteW4sIG1HbiwgcFlzeW4iLAogICJzT3RhYmF6IjogImtIbnRyaSwgc3RLdCwgdHJKYiwgdGVyaXR5cmkiLAogICJzb3phbkFtIjogIndZZCwgbU9mSW0iLAogICJzdW1FbCI6ICJoV3MsIGhYbSwgdFUgbEp2IiwKICAic1V6IjogIm5IbWJZLCB4eW1XbnQsIGRpcWl0LCBtZVp5bXludCwgdFUga1dudCwgdFUgbWVaeSwgdFUga3dvbnRpZkoiLAogICJzdXZJdCI6ICJzd0l0LCBrR25kaSIsCiAgInQiOiAidFUgd09rLCB0VSBtVXYsIGJJIGdYL2lOIHRVIGRVIiwKICAidGFrT21leiI6ICJkTyIsCiAgInRhbk9zIjogImhHcGlueXMsIGZIbiwgdFUgcGxLIiwKICAidGFuT3Nhdk94aXMiOiAidFUgbEFmIiwKICAidGVnIjogImZpTmd5LCB0VSBwTG50IiwKICAidGVnQWwiOiAic0htIiwKICAidGVnYWtJbiI6ICJmaU5neW5LbCIsCiAgInRlbklsIjogInRVIGdldCwgdFUgZ0tuLCB0VSByaXNJdiwgeHlkaVN5biBbbUdGXSIsCiAgInRldCI6ICJoR25kLCB0VSB0SGMiLAogICJ0ZXRhbWFzSW4iOiAibVhiSGwgZlhueiwgc21BdCBmWG56LCB0SGNpTiBteVNJbnoiLAogICJ0ZXRhekEiOiAicEFtIiwKICAidGV0ZXpBIjogInRVIGhYbGQiLAogICJ0aWdBeHVuIjogInhIVnksIGRpZnJ5bnQiLAogICJ0aWtBbCI6ICJwVy95LCBzdHJvTiwgcFcveWZ5bCIsCiAgInRva0FnIjogInJlcHRKbHoiLAogICJ0b25BbCI6ICJzSmQsIGJpc0pkLCBuUWJKLCBiSSB3aVYiLAogICJ0T2hVa3V0IjogInRVIHNIayIsCiAgInRPaFVsIjogImxLayIsCiAgInRPayI6ICJiaWcsIHRVIHN3ZWwiLAogICJ0T2tha0luIjogInRySSIsCiAgInRPa0luIjogIm1XbnRpbiIsCiAgInRPbWlzZWxhIjogIlZ5IHByWHRHZ3luaXN0IiwKICAidE90ZXQiOiAidFUgaGl0IiwKICAidE90ZXRlekEiOiAidFUgc2t3SXoiLAogICJ0b3QiOiAiZnV0LCBsZWciLAogICJ0b3Rha0FzZXoiOiAibkkiLAogICJ0b3Rha3VsVW0iOiAiYkpzaWt5bCIsCiAgInh1IjogInNYIiwKICAieFVtIjogInRVIFZHdCByaXpIbHQgYkogZFUvaU4iLAogICJ4VW4iOiAiZk8gVkd0IHJJenluIFZlbiIsCiAgInZBdGlrIjogInBBdGlreWwsIHhlbGltZW50eXJpIHBBdGlreWwiLAogICJ2YWtFbCI6ICJ0VSBicktrLCB0VSBrSHQsIHRVIHNwbGl0IiwKICAidmF0QWwiOiAidFUgZ2l2LCB0VSBzcHJlZCwgdFUgcEFzLCB0VSBkaXNrQXJkLCBzSGJ0ckdrU3luW21HRl0iLAogICJ2RWt1dCI6ICJkSnJla1N5biwgeEdOZ3lsLCB2ZWt0eSIsCiAgInZpaFVsIjogImRyb3AiLAogICJ2aWsiOiAic21PbCIsCiAgInZpa2FrSW4iOiAiZ3JBcyIsCiAgInZpa0VrSW4iOiAiZEhzdCIsCiAgInZpa0luIjogInNHbmQiLAogICJ2aWt1c0FsIjogInhHc2lkLCBzVy95IiwKICAidmlzb21PeiI6ICJ3T20iLAogICJ2aXNPdCI6ICJjSmxkLCBraWQiLAogICJ2T3hpcyI6ICJzV25kLCBzcElrLCB2THMsIHRPaywgbFdkLCB0VSBzSywgdFUgc1duZCIsCiAgInZPeGlzYWRPeHVnIjogImJlbHosIHh5bEFteiwgc3BJa3l6LCBtSmtyeWZYbiIsCiAgInZPeGlzYW1PemV6YXZ1bEF0IjogInJla1lkLCBmb255Z3JHZiByZWtZZCIsCiAgInZPc3V0IjogImJHZCIsCiAgInZPeiI6ICJ0VSBwdXQsIHRVIGxYa0t0LCB0VSBrSXAsIHRVIHByeXRla3QiLAogICJ2dWxBdCI6ICJmbE8sIHBsS24sIGZsR3QiLAogICJ2dWxBdGFsT3hhZCI6ICJzdFAiLAogICJ2VXhhbiI6ICJkb2ciLAogICJ6QWtBcyI6ICJqVW5pdllzIiwKICAiekFtYW0iOiAidEptIiwKICAiemFoaWtBbGlsIjogIndKdCIsCiAgInphaGlrQWxpbGFzQXhpdiI6ICJzaWx2eSIsCiAgInphbSI6ICJiaWZPIFt0Sm1dLCBwQXN0LCBiaWhKbmQsIHJRLCBiR2siLAogICJ6YW1hbWFtT3oiOiAibU9uaU4iLAogICJ6YW1hc0l4YW5hbSI6ICJ0S2wiLAogICJ6YW1hdGV0IjogInRVIHB1bCIsCiAgInphbiI6ICJ4QWZ0eSBbdEptXSwgZmpVY3ksIHh5aGVkLCBmckhudCIsCiAgInphbkFtIjogImxHTmd3aXEiLAogICJ6YW5hbWFtT3oiOiAieEdmdFluVW4iLAogICJ6YW5hdGV0IjogInRVIHB1UyIsCiAgInplZCI6ICJzaW1pbHksIHJpcGV0aXRpdiwgeHlnZW4iLAogICJ6ZXRhbWFtT3oiOiAiblVuIiwKICAiemV0YXZPeiI6ICJ0VSBzaXQiLAogICJ6SXhldE9rIjogIkZpayIsCiAgInpJeGV2aWsiOiAiRmluIiwKICAiemlzSXhhayI6ICJtR2duaXQsIG1HZ25ldGlrIgp9'; 

const decoded = atob(encrypted);
const wordDB = JSON.parse(decoded);

// 竖排键盘布局
const keyboardLayout = [
    ['v', 'b', 'm'],
    ['t', 'd', 'n'],
    ['s', 'z', 'l'],
    ['k', 'g', 'h'],
    ['o', 'u', 'e'],
    ['i', 'a', 'O'],
    ['U', 'E', 'I'],
    ['A', '×', '↵']
];

function initKeyboard() {
    const vowels = new Set(['A','E','I','O','U','a','e','i','o','u']);
    const keyboard = document.getElementById('keyboard');
    
    keyboardLayout.forEach(column => {
        const colDiv = document.createElement('div');
        colDiv.className = 'key-column';
        column.forEach(char => {
            const key = document.createElement('div');
            key.className = 'key';
            key.dataset.char = char;
            
            if(vowels.has(char)) {
                key.classList.add('vowel-key');
            }
            
            key.addEventListener('click', () => handleKeyPress(char));
            colDiv.appendChild(key);
        });
        keyboard.appendChild(colDiv);
    });
}

function processInput(str) {
    const consonants = new Set(['x','v','b','m','t','d','n','s','z','l','k','g','h']);
    let output = [];
    
    for(let i = 0; i < str.length; i++) {
        const current = str[i];
        if ('AEIOUaeiou'.includes(current)) {
            if(i === 0 || !consonants.has(str[i-1].toLowerCase())) {
                output.push('x');
            }
        }
        output.push(current);
    }
    return output.join('');
}

function handleKeyPress(char) {
    const display = document.getElementById('display');
    
    if(char === '×') {
        display.value = '';
        document.getElementById('result').innerHTML = '';
    } else if(char === '↵') {
        const resultDiv = document.getElementById('result');
        if(display.value === '') {
            resultDiv.innerHTML = '<div class="translation">naz/o kem/u xIn/ok/i.</div>';
        } else {
            resultDiv.innerHTML = wordDB[display.value] ? 
                `<div>${display.value}</div><div class="translation">${wordDB[display.value]}</div>` :
                '<div class="translation">mA sozanAm/u xekAs/i.</div>';
        }
    } else {
        display.value += char;
        display.value = processInput(display.value);
    }
}

window.addEventListener('DOMContentLoaded', initKeyboard);
</script>
</body>
</html>
